// Datastar Pro v1.0.0-RC.7 â€“ DATASTAR PRO MAY ONLY BE USED WITH A VALID LICENSE!
var bt=/ðŸ–•JS_DSðŸš€/.source,Ye=bt.slice(0,5),Xe=bt.slice(4),z="datastar-fetch",re="datastar-signal-patch";var V=Object.hasOwn??Object.prototype.hasOwnProperty.call;var ee=e=>e!==null&&typeof e=="object"&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null),Fe=e=>{for(let t in e)if(V(e,t))return!1;return!0},se=(e,t)=>{for(let n in e){let r=e[n];ee(r)||Array.isArray(r)?se(r,t):e[n]=t(r)}},Pe=e=>{let t={};for(let[n,r]of e){let s=n.split("."),o=s.pop(),i=s.reduce((a,c)=>a[c]??={},t);i[o]=r}return t};var Ce=[],et=[],_e=0,Oe=0,tt=0,nt,J,ke=0,R=()=>{_e++},x=()=>{--_e||(Et(),te())},$=e=>{nt=J,J=e},_=()=>{J=nt,nt=void 0},be=e=>ln.bind(0,{previousValue:e,t:e,e:1}),rt=Symbol("computed"),qe=e=>{let t=un.bind(0,{e:17,getter:e});return t[rt]=1,t},E=e=>{let t={m:e,e:2};J&&it(t,J),$(t),R();try{t.m()}finally{x(),_()}return wt.bind(0,t)},Et=()=>{for(;Oe<tt;){let e=et[Oe];et[Oe++]=void 0,At(e,e.e&=-65)}Oe=0,tt=0},yt=e=>"getter"in e?St(e):Tt(e,e.t),St=e=>{$(e),Rt(e);try{let t=e.t;return t!==(e.t=e.getter(t))}finally{_(),xt(e)}},Tt=(e,t)=>(e.e=1,e.previousValue!==(e.previousValue=t)),st=e=>{let t=e.e;if(!(t&64)){e.e=t|64;let n=e.r;n?st(n.o):et[tt++]=e}},At=(e,t)=>{if(t&16||t&32&&Mt(e.s,e)){$(e),Rt(e),R();try{e.m()}finally{x(),_(),xt(e)}return}t&32&&(e.e=t&-33);let n=e.s;for(;n;){let r=n.c,s=r.e;s&64&&At(r,r.e=s&-65),n=n.i}},ln=(e,...t)=>{if(t.length){if(e.t!==(e.t=t[0])){e.e=17;let r=e.r;return r&&(fn(r),_e||Et()),!0}return!1}let n=e.t;if(e.e&16&&Tt(e,n)){let r=e.r;r&&$e(r)}return J&&it(e,J),n},un=e=>{let t=e.e;if(t&16||t&32&&Mt(e.s,e)){if(St(e)){let n=e.r;n&&$e(n)}}else t&32&&(e.e=t&-33);return J&&it(e,J),e.t},wt=e=>{let t=e.s;for(;t;)t=Ve(t,e);let n=e.r;n&&Ve(n),e.e=0},it=(e,t)=>{let n=t.a;if(n&&n.c===e)return;let r=n?n.i:t.s;if(r&&r.c===e){r.d=ke,t.a=r;return}let s=e.p;if(s&&s.d===ke&&s.o===t)return;let o=t.a=e.p={d:ke,c:e,o:t,l:n,i:r,u:s};r&&(r.l=o),n?n.i=o:t.s=o,s?s.n=o:e.r=o},Ve=(e,t=e.o)=>{let n=e.c,r=e.l,s=e.i,o=e.n,i=e.u;if(s?s.l=r:t.a=r,r?r.i=s:t.s=s,o?o.u=i:n.p=i,i)i.n=o;else if(!(n.r=o))if("getter"in n){let a=n.s;if(a){n.e=17;do a=Ve(a,n);while(a)}}else"previousValue"in n||wt(n);return s},fn=e=>{let t=e.n,n;e:for(;;){let r=e.o,s=r.e;if(s&60?s&12?s&4?!(s&48)&&mn(e,r)?(r.e=s|40,s&=1):s=0:r.e=s&-9|32:s=0:r.e=s|32,s&2&&st(r),s&1){let o=r.r;if(o){let i=(e=o).n;i&&(n={t,f:n},t=i);continue}}if(e=t){t=e.n;continue}for(;n;)if(e=n.t,n=n.f,e){t=e.n;continue e}break}},Rt=e=>{ke++,e.a=void 0,e.e=e.e&-57|4},xt=e=>{let t=e.a,n=t?t.i:e.s;for(;n;)n=Ve(n,e);e.e&=-5},Mt=(e,t)=>{let n,r=0,s=!1;e:for(;;){let o=e.c,i=o.e;if(t.e&16)s=!0;else if((i&17)===17){if(yt(o)){let a=o.r;a.n&&$e(a),s=!0}}else if((i&33)===33){(e.n||e.u)&&(n={t:e,f:n}),e=o.s,t=o,++r;continue}if(!s){let a=e.i;if(a){e=a;continue}}for(;r--;){let a=t.r,c=a.n;if(c?(e=n.t,n=n.f):e=a,s){if(yt(t)){c&&$e(a),t=e.o;continue}s=!1}else t.e&=-33;if(t=e.o,e.i){e=e.i;continue e}}return s}},$e=e=>{do{let t=e.o,n=t.e;(n&48)===32&&(t.e=n|16,n&2&&st(t))}while(e=e.n)},mn=(e,t)=>{let n=t.a;for(;n;){if(n===e)return!0;n=n.l}return!1},ue=e=>{let t=ie,n=e.split(".");for(let r of n){if(t==null||!V(t,r))return;t=t[r]}return t},He=(e,t="")=>{let n=Array.isArray(e);if(n||ee(e)){let r=n?[]:{};for(let o in e)r[o]=be(He(e[o],`${t+o}.`));let s=be(0);return new Proxy(r,{get(o,i){if(!(i==="toJSON"&&!V(r,i)))return n&&i in Array.prototype?(s(),r[i]):typeof i=="symbol"?r[i]:((!V(r,i)||r[i]()==null)&&(r[i]=be(""),te(t+i,""),s(s()+1)),r[i]())},set(o,i,a){let c=t+i;if(n&&i==="length"){let l=r[i]-a;if(r[i]=a,l>0){let u={};for(let m=a;m<r[i];m++)u[m]=null;te(t.slice(0,-1),u),s(s()+1)}}else if(V(r,i))if(a==null)delete r[i];else if(V(a,rt))r[i]=a,te(c,"");else{let l=r[i](),u=`${c}.`;if(ee(l)&&ee(a)){for(let m in l)V(a,m)||(delete l[m],te(u+m,null));for(let m in a){let b=a[m];l[m]!==b&&(l[m]=b)}}else r[i](He(a,u))&&te(c,a)}else a!=null&&(V(a,rt)?(r[i]=a,te(c,"")):(r[i]=be(He(a,`${c}.`)),te(c,a)),s(s()+1));return!0},deleteProperty(o,i){return delete r[i],s(s()+1),!0},ownKeys(){return s(),Reflect.ownKeys(r)},has(o,i){return s(),i in r}})}return e},te=(e,t)=>{if(e!==void 0&&t!==void 0&&Ce.push([e,t]),!_e&&Ce.length){let n=Pe(Ce);Ce.length=0,document.dispatchEvent(new CustomEvent(re,{detail:n}))}},O=(e,{ifMissing:t}={})=>{R();for(let n in e)e[n]==null?t||delete ie[n]:Lt(e[n],n,ie,"",t);x()},A=(e,t)=>O(Pe(e),t),Lt=(e,t,n,r,s)=>{if(ee(e)){V(n,t)&&(ee(n[t])||Array.isArray(n[t]))||(n[t]={});for(let o in e)e[o]==null?s||delete n[t][o]:Lt(e[o],o,n[t],`${r+t}.`,s)}else s&&V(n,t)||(n[t]=e)},vt=e=>typeof e=="string"?RegExp(e.replace(/^\/|\/$/g,"")):e,F=({include:e=/.*/,exclude:t=/(?!)/}={},n=ie)=>{let r=vt(e),s=vt(t),o=[],i=[[n,""]];for(;i.length;){let[a,c]=i.pop();for(let l in a){let u=c+l;ee(a[l])?i.push([a[l],`${u}.`]):r.test(u)&&!s.test(u)&&o.push([u,ue(u)])}}return Pe(o)},ie=He({});var ne=e=>e instanceof HTMLElement||e instanceof SVGElement||e instanceof MathMLElement;var ye=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([a-z])([0-9]+)/gi,"$1-$2").replace(/([0-9]+)([a-z])/gi,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase();var Nt=e=>ye(e).replace(/-/g,"_");var fe=e=>{try{return JSON.parse(e)}catch{return Function(`return (${e})`)()}},Ft={camel:e=>e.replace(/-[a-z]/g,t=>t[1].toUpperCase()),snake:e=>e.replace(/-/g,"_"),pascal:e=>e[0].toUpperCase()+Ft.camel(e.slice(1))},k=(e,t,n="camel")=>{for(let r of t.get("case")||[n])e=Ft[r]?.(e)||e;return e},K=e=>`data-${e}`;var dn="https://data-star.dev/errors",ve=(e,t,n={})=>{Object.assign(n,e);let r=new Error,s=Nt(t),o=new URLSearchParams({metadata:JSON.stringify(n)}).toString(),i=JSON.stringify(n,null,2);return r.message=`${t}
More info: ${dn}/${s}?${o}
Context: ${i}`,r},Ee=new Map,ot=new Map,Ct=new Map,Ot=new Proxy({},{get:(e,t)=>Ee.get(t)?.apply,has:(e,t)=>Ee.has(t),ownKeys:()=>Reflect.ownKeys(Ee),set:()=>!1,deleteProperty:()=>!1}),Se=new Map,Ie=[],at=new Set,pn=new WeakSet,g=e=>{Ie.push(e),Ie.length===1&&setTimeout(()=>{for(let t of Ie)at.add(t.name),ot.set(t.name,t);Ie.length=0,vn(),at.clear()})},M=e=>{Ee.set(e.name,e)};document.addEventListener(z,e=>{let t=Ct.get(e.detail.type);t&&t.apply({error:ve.bind(0,{plugin:{type:"watcher",name:t.name},element:{id:e.target.id,tag:e.target.tagName}})},e.detail.argsRaw)});var Te=e=>{Ct.set(e.name,e)},Pt=e=>{for(let t of e){let n=Se.get(t);if(n&&Se.delete(t))for(let r of n.values())for(let s of r.values())s()}},kt=K("ignore"),gn=`[${kt}]`,Ht=e=>e.hasAttribute(`${kt}__self`)||!!e.closest(gn),De=(e,t)=>{for(let n of e)if(!Ht(n))for(let r in n.dataset)Vt(n,r.replace(/[A-Z]/g,"-$&").toLowerCase(),n.dataset[r],t)},hn=e=>{for(let{target:t,type:n,attributeName:r,addedNodes:s,removedNodes:o}of e)if(n==="childList"){for(let i of o)ne(i)&&(Pt([i]),Pt(i.querySelectorAll("*")));for(let i of s)ne(i)&&(De([i]),De(i.querySelectorAll("*")))}else if(n==="attributes"&&r.startsWith("data-")&&ne(t)&&!Ht(t)){let i=r.slice(5),a=t.getAttribute(r);if(a===null){let c=Se.get(t);if(c){let l=c.get(i);if(l){for(let u of l.values())u();c.delete(i)}}}else Vt(t,i,a)}},bn=new MutationObserver(hn),yn=e=>{let[t,...n]=e.split("__"),[r,s]=t.split(/:(.+)/),o=new Map;for(let i of n){let[a,...c]=i.split(".");o.set(a,new Set(c))}return{pluginName:r,key:s,mods:o}};var vn=(e=document.documentElement,t=!0)=>{ne(e)&&De([e],!0),De(e.querySelectorAll("*"),!0),t&&(bn.observe(e,{subtree:!0,childList:!0,attributes:!0}),pn.add(e))},Vt=(e,t,n,r)=>{{let s=t,{pluginName:o,key:i,mods:a}=yn(s),c=ot.get(o);if((!r||at.has(o))&&c){let l={el:e,rawKey:s,mods:a,error:ve.bind(0,{plugin:{type:"attribute",name:c.name},element:{id:e.id,tag:e.tagName},expression:{rawKey:s,key:i,value:n}}),key:i,value:n,loadedPluginNames:{actions:new Set(Ee.keys()),attributes:new Set(ot.keys())},rx:void 0},u=c.requirement&&(typeof c.requirement=="string"?c.requirement:c.requirement.key)||"allowed",m=c.requirement&&(typeof c.requirement=="string"?c.requirement:c.requirement.value)||"allowed",b=i!=null&&i!=="",f=n!=null&&n!=="";if(b){if(u==="denied")throw l.error("KeyNotAllowed")}else if(u==="must")throw l.error("KeyRequired");if(f){if(m==="denied")throw l.error("ValueNotAllowed")}else if(m==="must")throw l.error("ValueRequired");if(u==="exclusive"||m==="exclusive"){if(b&&f)throw l.error("KeyAndValueProvided");if(!b&&!f)throw l.error("KeyOrValueRequired")}let d=new Map;if(f){let v;l.rx=(...S)=>(v||(v=En(n,{returnsValue:c.returnsValue,argNames:c.argNames,cleanups:d})),v(e,...S))}let p=c.apply(l);p&&d.set("attribute",p);let h=Se.get(e);if(h){let v=h.get(s);if(v)for(let S of v.values())S()}else h=new Map,Se.set(e,h);h.set(s,d)}}},En=(e,{returnsValue:t=!1,argNames:n=[],cleanups:r=new Map}={})=>{let s="";if(t){let c=/(\/(\\\/|[^/])*\/|"(\\"|[^"])*"|'(\\'|[^'])*'|`(\\`|[^`])*`|\(\s*((function)\s*\(\s*\)|(\(\s*\))\s*=>)\s*(?:\{[\s\S]*?\}|[^;){]*)\s*\)\s*\(\s*\)|[^;])+/gm,l=e.trim().match(c);if(l){let u=l.length-1,m=l[u].trim();m.startsWith("return")||(l[u]=`return (${m});`),s=l.join(`;
`)}}else s=e.trim();let o=new Map,i=RegExp(`(?:${Ye})(.*?)(?:${Xe})`,"gm"),a=0;for(let c of s.matchAll(i)){let l=c[1],u=`__escaped${a++}`;o.set(u,l),s=s.replace(Ye+l+Xe,u)}s=s.replace(/\$\['([a-zA-Z_$\d][\w$]*)'\]/g,"$$$1").replace(/\$([a-zA-Z_\d]\w*(?:[.-]\w+)*)/g,(c,l)=>l.split(".").reduce((u,m)=>`${u}['${m}']`,"$")),s=s.replaceAll(/@([A-Za-z_$][\w$]*)\(/g,'__action("$1",evt,');for(let[c,l]of o)s=s.replace(c,l);try{let c=Function("el","$","__action","evt",...n,s);return(l,...u)=>{let m=(b,f,...d)=>{let p=ve.bind(0,{plugin:{type:"action",name:b},element:{id:l.id,tag:l.tagName},expression:{fnContent:s,value:e}}),h=Ot[b];if(h)return h({el:l,evt:f,error:p,cleanups:r},...d);throw p("UndefinedAction")};try{return c(l,ie,m,void 0,...u)}catch(b){throw console.error(b),ve({element:{id:l.id,tag:l.tagName},expression:{fnContent:s,value:e},error:b.message},"ExecuteExpression")}}}catch(c){throw console.error(c),ve({expression:{fnContent:s,value:e},error:c.message},"GenerateExpression")}};M({name:"peek",apply(e,t){$();try{return t()}finally{_()}}});M({name:"setAll",apply(e,t,n){$();let r=F(n);se(r,()=>t),O(r),_()}});M({name:"toggleAll",apply(e,t){$();let n=F(t);se(n,r=>!r),O(n),_()}});var Ae=(e,t,n=!0)=>M({name:e,apply:async({el:r,evt:s,error:o,cleanups:i},a,{selector:c,headers:l,contentType:u="json",filterSignals:{include:m=/.*/,exclude:b=/(^|\.)_/}={},openWhenHidden:f=n,payload:d,requestCancellation:p="auto",retry:h="auto",retryInterval:v=1e3,retryScaler:S=2,retryMaxWaitMs:T=3e4,retryMaxCount:W=10}={})=>{let G=p instanceof AbortController?p:new AbortController;p==="auto"&&(i.get(`@${e}`)?.(),i.set(`@${e}`,async()=>{G.abort(),await Promise.resolve()}));let P=null;try{if(!a?.length)throw o("FetchNoUrlProvided",{action:M});let L={Accept:"text/event-stream, text/html, application/json","Datastar-Request":!0};u==="json"&&(L["Content-Type"]="application/json");let Q=Object.assign({},L,l),D={method:t,headers:Q,openWhenHidden:f,retry:h,retryInterval:v,retryScaler:S,retryMaxWaitMs:T,retryMaxCount:W,signal:G.signal,onopen:async y=>{y.status>=400&&oe(Sn,r,{status:y.status.toString()})},onmessage:y=>{if(!y.event.startsWith("datastar"))return;let Y=y.event,w={};for(let N of y.data.split(`
`)){let C=N.indexOf(" "),X=N.slice(0,C),ze=N.slice(C+1);(w[X]||=[]).push(ze)}let H=Object.fromEntries(Object.entries(w).map(([N,C])=>[N,C.join(`
`)]));oe(Y,r,H)},onerror:y=>{if($t(y))throw y("FetchExpectedTextEventStream",{url:a});y&&(console.error(y.message),oe(Tn,r,{message:y.message}))}},Z=new URL(a,document.baseURI),le=new URLSearchParams(Z.search);if(u==="json"){$(),d=d!==void 0?d:F({include:m,exclude:b}),_();let y=JSON.stringify(d);t==="GET"?le.set("datastar",y):D.body=y}else if(u==="form"){let y=c?document.querySelector(c):r.closest("form");if(!y)throw o("FetchFormNotFound",{action:M,selector:c});if(!y.noValidate&&!y.checkValidity()){y.reportValidity();return}let Y=new FormData(y),w=r;if(r===y&&s instanceof SubmitEvent)w=s.submitter;else{let C=X=>X.preventDefault();y.addEventListener("submit",C),P=()=>{y.removeEventListener("submit",C)}}if(w instanceof HTMLButtonElement){let C=w.getAttribute("name");C&&Y.append(C,w.value)}let H=y.getAttribute("enctype")==="multipart/form-data";H||(Q["Content-Type"]="application/x-www-form-urlencoded");let N=new URLSearchParams(Y);if(t==="GET")for(let[C,X]of N)le.append(C,X);else H?D.body=Y:D.body=N}else throw o("FetchInvalidContentType",{action:M,contentType:u});oe(ct,r,{}),Z.search=le.toString();try{await Ln(Z.toString(),r,D)}catch(y){if(!$t(y))throw o("FetchFailed",{method:t,url:a,error:y.message})}}finally{oe(lt,r,{}),P?.(),i.delete(`@${e}`)}}});Ae("get","GET",!1);Ae("patch","PATCH");Ae("post","POST");Ae("put","PUT");Ae("delete","DELETE");var ct="started",lt="finished",Sn="error",Tn="retrying",An="retries-failed",oe=(e,t,n)=>document.dispatchEvent(new CustomEvent(z,{detail:{type:e,el:t,argsRaw:n}})),$t=e=>`${e}`.includes("text/event-stream"),wn=async(e,t)=>{let n=e.getReader(),r=await n.read();for(;!r.done;)t(r.value),r=await n.read()},Rn=e=>{let t,n,r,s=!1;return o=>{t?t=Mn(t,o):(t=o,n=0,r=-1);let i=t.length,a=0;for(;n<i;){s&&(t[n]===10&&(a=++n),s=!1);let c=-1;for(;n<i&&c===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-a);break;case 13:s=!0;case 10:c=n;break}if(c===-1)break;e(t.subarray(a,c),r),a=n,r=-1}a===i?t=void 0:a&&(t=t.subarray(a),n-=a)}},xn=(e,t,n)=>{let r=_t(),s=new TextDecoder;return(o,i)=>{if(!o.length)n?.(r),r=_t();else if(i>0){let a=s.decode(o.subarray(0,i)),c=i+(o[i+1]===32?2:1),l=s.decode(o.subarray(c));switch(a){case"data":r.data=r.data?`${r.data}
${l}`:l;break;case"event":r.event=l;break;case"id":e(r.id=l);break;case"retry":{let u=+l;Number.isNaN(u)||t(r.retry=u);break}}}}},Mn=(e,t)=>{let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n},_t=()=>({data:"",event:"",id:"",retry:void 0}),Ln=(e,t,{signal:n,headers:r,onopen:s,onmessage:o,onclose:i,onerror:a,openWhenHidden:c,fetch:l,retry:u="auto",retryInterval:m=1e3,retryScaler:b=2,retryMaxWaitMs:f=3e4,retryMaxCount:d=10,responseOverrides:p,...h})=>new Promise((v,S)=>{let T={...r},W,G=()=>{W.abort(),document.hidden||y()};c||document.addEventListener("visibilitychange",G);let P,L=()=>{document.removeEventListener("visibilitychange",G),clearTimeout(P),W.abort()};n?.addEventListener("abort",()=>{L(),v()});let Q=l||window.fetch,D=s||(()=>{}),Z=0,le=m,y=async()=>{W=new AbortController;let Y=W.signal;try{let w=await Q(e,{...h,headers:T,signal:Y});await D(w);let H=async(U,he,Ke,Le,...cn)=>{let ht={[Ke]:await he.text()};for(let Qe of cn){let Ze=he.headers.get(`datastar-${ye(Qe)}`);if(Le){let Ne=Le[Qe];Ne&&(Ze=typeof Ne=="string"?Ne:JSON.stringify(Ne))}Ze&&(ht[Qe]=Ze)}oe(U,t,ht),L(),v()},N=w.status,C=N===204,X=N>=300&&N<400,ze=N>=400&&N<600;if(N!==200){if(i?.(),u!=="never"&&!C&&!X&&(u==="always"||u==="error"&&ze)){clearTimeout(P),P=setTimeout(y,m);return}L(),v();return}Z=0,m=le;let Je=w.headers.get("Content-Type");if(Je?.includes("text/html"))return await H("datastar-patch-elements",w,"elements",p,"selector","mode","namespace","useViewTransition");if(Je?.includes("application/json"))return await H("datastar-patch-signals",w,"signals",p,"onlyIfMissing");if(Je?.includes("text/javascript")){let U=document.createElement("script"),he=w.headers.get("datastar-script-attributes");if(he)for(let[Ke,Le]of Object.entries(JSON.parse(he)))U.setAttribute(Ke,Le);U.textContent=await w.text(),document.head.appendChild(U),L();return}if(await wn(w.body,Rn(xn(U=>{U?T["last-event-id"]=U:delete T["last-event-id"]},U=>{le=m=U},o))),i?.(),u==="always"&&!X){clearTimeout(P),P=setTimeout(y,m);return}L(),v()}catch(w){if(!Y.aborted)try{let H=a?.(w)||m;clearTimeout(P),P=setTimeout(y,H),m=Math.min(m*b,f),++Z>=d?(oe(An,t,{}),L(),S("Max retries reached.")):console.error(`Datastar failed to reach ${e.toString()} retrying in ${H}ms.`)}catch(H){L(),S(H)}}};y()});g({name:"attr",requirement:{value:"must"},returnsValue:!0,apply({el:e,key:t,rx:n}){let r=(a,c)=>{c===""||c===!0?e.setAttribute(a,""):c===!1||c==null?e.removeAttribute(a):typeof c=="string"?e.setAttribute(a,c):e.setAttribute(a,JSON.stringify(c))},s=t?()=>{o.disconnect();let a=n();r(t,a),o.observe(e,{attributeFilter:[t]})}:()=>{o.disconnect();let a=n(),c=Object.keys(a);for(let l of c)r(l,a[l]);o.observe(e,{attributeFilter:c})},o=new MutationObserver(s),i=E(s);return()=>{o.disconnect(),i()}}});var Nn=/^data:(?<mime>[^;]+);base64,(?<contents>.*)$/,qt=Symbol("empty"),It=K("bind");g({name:"bind",requirement:"exclusive",apply({el:e,key:t,mods:n,value:r,error:s}){let o=t!=null?k(t,n):r,i=(f,d)=>d==="number"?+f.value:f.value,a=f=>{e.value=`${f}`};if(e instanceof HTMLInputElement)switch(e.type){case"range":case"number":i=(f,d)=>d==="string"?f.value:+f.value;break;case"checkbox":i=(f,d)=>f.value!=="on"?d==="boolean"?f.checked:f.checked?f.value:"":d==="string"?f.checked?f.value:"":f.checked,a=f=>{e.checked=typeof f=="string"?f===e.value:f};break;case"radio":e.getAttribute("name")?.length||e.setAttribute("name",o),i=(f,d)=>f.checked?d==="number"?+f.value:f.value:qt,a=f=>{e.checked=f===(typeof f=="number"?+e.value:e.value)};break;case"file":{let f=()=>{let d=[...e.files||[]],p=[];Promise.all(d.map(h=>new Promise(v=>{let S=new FileReader;S.onload=()=>{if(typeof S.result!="string")throw s("InvalidFileResultType",{resultType:typeof S.result});let T=S.result.match(Nn);if(!T?.groups)throw s("InvalidDataUri",{result:S.result});p.push({name:h.name,contents:T.groups.contents,mime:T.groups.mime})},S.onloadend=()=>v(),S.readAsDataURL(h)}))).then(()=>{A([[o,p]])})};return e.addEventListener("change",f),e.addEventListener("input",f),()=>{e.removeEventListener("change",f),e.removeEventListener("input",f)}}}else if(e instanceof HTMLSelectElement){if(e.multiple){let f=new Map;i=d=>[...d.selectedOptions].map(p=>{let h=f.get(p.value);return h==="string"||h==null?p.value:+p.value}),a=d=>{for(let p of e.options)d.includes(p.value)?(f.set(p.value,"string"),p.selected=!0):d.includes(+p.value)?(f.set(p.value,"number"),p.selected=!0):p.selected=!1}}}else e instanceof HTMLTextAreaElement||(i=f=>"value"in f?f.value:f.getAttribute("value"),a=f=>{"value"in e?e.value=f:e.setAttribute("value",f)});let c=ue(o),l=typeof c,u=o;if(Array.isArray(c)&&!(e instanceof HTMLSelectElement&&e.multiple)){let f=t||r,d=document.querySelectorAll(`[${It}\\:${CSS.escape(f)}],[${It}="${CSS.escape(f)}"]`),p=[],h=0;for(let v of d){if(p.push([`${u}.${h}`,i(v,"none")]),e===v)break;h++}A(p,{ifMissing:!0}),u=`${u}.${h}`}else A([[u,i(e,l)]],{ifMissing:!0});let m=()=>{let f=ue(u);if(f!=null){let d=i(e,typeof f);d!==qt&&A([[u,d]])}};e.addEventListener("input",m),e.addEventListener("change",m);let b=E(()=>{a(ue(u))});return()=>{b(),e.removeEventListener("input",m),e.removeEventListener("change",m)}}});g({name:"class",requirement:{value:"must"},returnsValue:!0,apply({key:e,el:t,mods:n,rx:r}){e&&=k(e,n,"kebab");let s,o=()=>{i.disconnect(),s=e?{[e]:r()}:r();for(let c in s){let l=c.split(/\s+/).filter(u=>u.length>0);if(s[c])for(let u of l)t.classList.contains(u)||t.classList.add(u);else for(let u of l)t.classList.contains(u)&&t.classList.remove(u)}i.observe(t,{attributeFilter:["class"]})},i=new MutationObserver(o),a=E(o);return()=>{i.disconnect(),a();for(let c in s){let l=c.split(/\s+/).filter(u=>u.length>0);for(let u of l)t.classList.remove(u)}}}});g({name:"computed",requirement:{value:"must"},returnsValue:!0,apply({key:e,mods:t,rx:n,error:r}){if(e)A([[k(e,t),qe(n)]]);else{let s=Object.assign({},n());se(s,o=>{if(typeof o=="function")return qe(o);throw r("ComputedExpectedFunction")}),O(s)}}});g({name:"effect",requirement:{key:"denied",value:"must"},apply:({rx:e})=>E(e)});g({name:"indicator",requirement:"exclusive",apply({el:e,key:t,mods:n,value:r}){let s=t!=null?k(t,n):r;A([[s,!1]]);let o=i=>{let{type:a,el:c}=i.detail;if(c===e)switch(a){case ct:A([[s,!0]]);break;case lt:A([[s,!1]]);break}};return document.addEventListener(z,o),()=>{A([[s,!1]]),document.removeEventListener(z,o)}}});var j=e=>{if(!e||e.size<=0)return 0;for(let t of e){if(t.endsWith("ms"))return+t.replace("ms","");if(t.endsWith("s"))return+t.replace("s","")*1e3;try{return Number.parseFloat(t)}catch{}}return 0},ae=(e,t,n=!1)=>e?e.has(t.toLowerCase()):n,Dt=(e,t="")=>{if(e&&e.size>0)for(let n of e)return n;return t};var ut=(e,t)=>(...n)=>{setTimeout(()=>{e(...n)},t)},jt=(e,t,n=!0,r=!1,s=!1)=>{let o=null,i=0;return(...a)=>{n&&!i?(e(...a),o=null):o=a,(!i||s)&&(i&&clearTimeout(i),i=setTimeout(()=>{r&&o!==null&&e(...o),o=null,i=0},t))}},B=(e,t)=>{let n=t.get("delay");if(n){let o=j(n);e=ut(e,o)}let r=t.get("debounce");if(r){let o=j(r),i=ae(r,"leading",!1),a=!ae(r,"notrailing",!1);e=jt(e,o,i,a,!0)}let s=t.get("throttle");if(s){let o=j(s),i=!ae(s,"noleading",!1),a=ae(s,"trailing",!1);e=jt(e,o,i,a)}return e};var we=!!document.startViewTransition,q=(e,t)=>{if(t.has("viewtransition")&&we){let n=e;e=(...r)=>document.startViewTransition(()=>n(...r))}return e};g({name:"init",requirement:{key:"denied",value:"must"},apply({rx:e,mods:t}){let n=()=>{R(),e(),x()};n=q(n,t);let r=0,s=t.get("delay");s&&(r=j(s),r>0&&(n=ut(n,r))),n()}});g({name:"json-signals",requirement:{key:"denied"},apply({el:e,value:t,mods:n}){let r=n.has("terse")?0:2,s={};t&&(s=fe(t));let o=()=>{i.disconnect(),e.textContent=JSON.stringify(F(s),null,r),i.observe(e,{childList:!0,characterData:!0,subtree:!0})},i=new MutationObserver(o),a=E(o);return()=>{i.disconnect(),a()}}});g({name:"on",requirement:"must",argNames:["evt"],apply({el:e,key:t,mods:n,rx:r}){let s=e;n.has("window")&&(s=window);let o=c=>{c&&(n.has("prevent")&&c.preventDefault(),n.has("stop")&&c.stopPropagation()),R(),r(c),x()};o=q(o,n),o=B(o,n);let i={capture:n.has("capture"),passive:n.has("passive"),once:n.has("once")};if(n.has("outside")){s=document;let c=o;o=l=>{e.contains(l?.target)||c(l)}}let a=k(t,n,"kebab");if((a===z||a===re)&&(s=document),e instanceof HTMLFormElement&&a==="submit"){let c=o;o=l=>{l?.preventDefault(),c(l)}}return s.addEventListener(a,o,i),()=>{s.removeEventListener(a,o)}}});var je=(e,t,n)=>Math.max(t,Math.min(n,e)),Ge=(e,t,n,r=!0)=>{let s=e+(t-e)*n;return r?je(s,e,t):s},Ue=(e,t,n,r=!0)=>{if(n<e)return 0;if(n>t)return 1;let s=(n-e)/(t-e);return r?je(s,e,t):s};var ft=new WeakSet;g({name:"on-intersect",requirement:{key:"denied",value:"must"},apply({el:e,mods:t,rx:n}){let r=()=>{R(),n(),x()};r=q(r,t),r=B(r,t);let s={threshold:0};t.has("full")?s.threshold=1:t.has("half")?s.threshold=.5:t.get("threshold")&&(s.threshold=je(Number(t.get("threshold")),0,100)/100);let o=t.has("exit"),i=new IntersectionObserver(a=>{for(let c of a)c.isIntersecting!==o&&(r(),i&&ft.has(e)&&i.disconnect())},s);return i.observe(e),t.has("once")&&ft.add(e),()=>{t.has("once")||ft.delete(e),i&&(i.disconnect(),i=null)}}});g({name:"on-interval",requirement:{key:"denied",value:"must"},apply({mods:e,rx:t}){let n=()=>{R(),t(),x()};n=q(n,e);let r=1e3,s=e.get("duration");s&&(r=j(s),ae(s,"leading",!1)&&n());let o=setInterval(n,r);return()=>{clearInterval(o)}}});g({name:"on-signal-patch",requirement:{value:"must"},argNames:["patch"],returnsValue:!0,apply({el:e,key:t,mods:n,rx:r,error:s}){if(t&&t!=="filter")throw s("KeyNotAllowed");let o=K(`${this.name}-filter`),i=e.getAttribute(o),a={};i&&(a=fe(i));let c=!1,l=B(u=>{if(c)return;let m=F(a,u.detail);if(!Fe(m)){c=!0,R();try{r(m)}finally{x(),c=!1}}},n);return document.addEventListener(re,l),()=>{document.removeEventListener(re,l)}}});g({name:"ref",requirement:"exclusive",apply({el:e,key:t,mods:n,value:r}){let s=t!=null?k(t,n):r;A([[s,e]])}});var Gt="none",Ut="display";g({name:"show",requirement:{key:"denied",value:"must"},returnsValue:!0,apply({el:e,rx:t}){let n=()=>{r.disconnect(),t()?e.style.display===Gt&&e.style.removeProperty(Ut):e.style.setProperty(Ut,Gt),r.observe(e,{attributeFilter:["style"]})},r=new MutationObserver(n),s=E(n);return()=>{r.disconnect(),s()}}});g({name:"signals",returnsValue:!0,apply({key:e,mods:t,rx:n}){let r=t.has("ifmissing");if(e)e=k(e,t),A([[e,n?.()]],{ifMissing:r});else{let s=Object.assign({},n?.());O(s,{ifMissing:r})}}});g({name:"style",requirement:{value:"must"},returnsValue:!0,apply({key:e,el:t,rx:n}){let{style:r}=t,s=new Map,o=(l,u)=>{let m=s.get(l);!u&&u!==0?m!==void 0&&(m?r.setProperty(l,m):r.removeProperty(l)):(m===void 0&&s.set(l,r.getPropertyValue(l)),r.setProperty(l,String(u)))},i=()=>{if(a.disconnect(),e)o(e,n());else{let l=n();for(let[u,m]of s)u in l||(m?r.setProperty(u,m):r.removeProperty(u));for(let u in l)o(ye(u),l[u])}a.observe(t,{attributeFilter:["style"]})},a=new MutationObserver(i),c=E(i);return()=>{a.disconnect(),c();for(let[l,u]of s)u?r.setProperty(l,u):r.removeProperty(l)}}});g({name:"text",requirement:{key:"denied",value:"must"},returnsValue:!0,apply({el:e,rx:t}){let n=()=>{r.disconnect(),e.textContent=`${t()}`,r.observe(e,{childList:!0,characterData:!0,subtree:!0})},r=new MutationObserver(n),s=E(n);return()=>{r.disconnect(),s()}}});var Bt=(e,t)=>e.includes(t),Fn=["remove","outer","inner","replace","prepend","append","before","after"],Pn=["html","svg","mathml"];Te({name:"datastar-patch-elements",apply(e,{selector:t="",mode:n="outer",namespace:r="html",useViewTransition:s="",elements:o=""}){if(!Bt(Fn,n))throw e.error("PatchElementsInvalidMode",{mode:n});if(!t&&n!=="outer"&&n!=="replace")throw e.error("PatchElementsExpectedSelector");if(!Bt(Pn,r))throw e.error("PatchElementsInvalidNamespace",{namespace:r});let i={selector:t,mode:n,namespace:r,useViewTransition:s.trim()==="true",elements:o};we&&s?document.startViewTransition(()=>Wt(e,i)):Wt(e,i)}});var Wt=({error:e},{selector:t,mode:n,namespace:r,elements:s})=>{let o=s.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),i=/<\/html>/.test(o),a=/<\/head>/.test(o),c=/<\/body>/.test(o),l=r==="svg"?"svg":r==="mathml"?"math":"",u=l?`<${l}>${s}</${l}>`:s,m=new DOMParser().parseFromString(i||a||c?s:`<body><template>${u}</template></body>`,"text/html"),b=document.createDocumentFragment();if(i)b.appendChild(m.documentElement);else if(a&&c)b.appendChild(m.head),b.appendChild(m.body);else if(a)b.appendChild(m.head);else if(c)b.appendChild(m.body);else if(l){let f=m.querySelector("template").content.querySelector(l);for(let d of f.childNodes)b.appendChild(d)}else b=m.querySelector("template").content;if(!t&&(n==="outer"||n==="replace"))for(let f of b.children){let d;if(f instanceof HTMLHtmlElement)d=document.documentElement;else if(f instanceof HTMLBodyElement)d=document.body;else if(f instanceof HTMLHeadElement)d=document.head;else if(d=document.getElementById(f.id),!d){console.warn(e("PatchElementsNoTargetsFound"),{element:{id:f.id}});continue}Jt(n,f,[d])}else{let f=document.querySelectorAll(t);if(!f.length){console.warn(e("PatchElementsNoTargetsFound"),{selector:t});return}Jt(n,b,f)}},dt=new WeakSet;for(let e of document.querySelectorAll("script"))dt.add(e);var Zt=e=>{let t=e instanceof HTMLScriptElement?[e]:e.querySelectorAll("script");for(let n of t)if(!dt.has(n)){let r=document.createElement("script");for(let{name:s,value:o}of n.attributes)r.setAttribute(s,o);r.text=n.text,n.replaceWith(r),dt.add(r)}},zt=(e,t,n)=>{for(let r of e){let s=t.cloneNode(!0);Zt(s),r[n](s)}},Jt=(e,t,n)=>{switch(e){case"remove":for(let r of n)r.remove();break;case"outer":case"inner":for(let r of n)On(r,t.cloneNode(!0),e),Zt(r);break;case"replace":zt(n,t,"replaceWith");break;case"prepend":case"append":case"before":case"after":zt(n,t,e)}},I=new Map,de=new Set,me=new Map,Re=new Set,pe=document.createElement("div");pe.hidden=!0;var xe=K("ignore-morph"),Cn=`[${xe}]`,On=(e,t,n="outer")=>{if(ne(e)&&ne(t)&&e.hasAttribute(xe)&&t.hasAttribute(xe)||e.parentElement?.closest(Cn))return;let r=document.createElement("div");r.append(t),document.body.insertAdjacentElement("afterend",pe);let s=e.querySelectorAll("[id]");for(let{id:a,tagName:c}of s)me.has(a)?Re.add(a):me.set(a,c);e instanceof Element&&e.id&&(me.has(e.id)?Re.add(e.id):me.set(e.id,e.tagName)),de.clear();let o=r.querySelectorAll("[id]");for(let{id:a,tagName:c}of o)de.has(a)?Re.add(a):me.get(a)===c&&de.add(a);for(let a of Re)de.delete(a);me.clear(),Re.clear(),I.clear();let i=n==="outer"?e.parentElement:e;Qt(i,s),Qt(r,o),Yt(i,r,n==="outer"?e:null,e.nextSibling),pe.remove()},Yt=(e,t,n=null,r=null)=>{e instanceof HTMLTemplateElement&&t instanceof HTMLTemplateElement&&(e=e.content,t=t.content),n??=e.firstChild;for(let s of t.childNodes){if(n&&n!==r){let o=kn(s,n,r);if(o){if(o!==n){let i=n;for(;i&&i!==o;){let a=i;i=i.nextSibling,pt(a)}}mt(o,s),n=o.nextSibling;continue}}if(s instanceof Element&&de.has(s.id)){let o=document.getElementById(s.id),i=o;for(;i=i.parentNode;){let a=I.get(i);a&&(a.delete(s.id),a.size||I.delete(i))}Xt(e,o,n),mt(o,s),n=o.nextSibling;continue}if(I.has(s)){let o=s.namespaceURI,i=s.tagName,a=o&&o!=="http://www.w3.org/1999/xhtml"?document.createElementNS(o,i):document.createElement(i);e.insertBefore(a,n),mt(a,s),n=a.nextSibling}else{let o=document.importNode(s,!0);e.insertBefore(o,n),n=o.nextSibling}}for(;n&&n!==r;){let s=n;n=n.nextSibling,pt(s)}},kn=(e,t,n)=>{let r=null,s=e.nextSibling,o=0,i=0,a=I.get(e)?.size||0,c=t;for(;c&&c!==n;){if(Kt(c,e)){let l=!1,u=I.get(c),m=I.get(e);if(m&&u){for(let b of u)if(m.has(b)){l=!0;break}}if(l)return c;if(!r&&!I.has(c)){if(!a)return c;r=c}}if(i+=I.get(c)?.size||0,i>a)break;r===null&&s&&Kt(c,s)&&(o++,s=s.nextSibling,o>=2&&(r=void 0)),c=c.nextSibling}return r||null},Kt=(e,t)=>e.nodeType===t.nodeType&&e.tagName===t.tagName&&(!e.id||e.id===t.id),pt=e=>{I.has(e)?Xt(pe,e,null):e.parentNode?.removeChild(e)},Xt=pt.call.bind(pe.moveBefore??pe.insertBefore),Hn=K("preserve-attr"),mt=(e,t)=>{let n=t.nodeType;if(n===1){let r=e,s=t,o=r.hasAttribute("data-scope-children");if(r.hasAttribute(xe)&&s.hasAttribute(xe))return e;r instanceof HTMLInputElement&&s instanceof HTMLInputElement&&s.type!=="file"?s.getAttribute("value")!==r.getAttribute("value")&&(r.value=s.getAttribute("value")??""):r instanceof HTMLTextAreaElement&&s instanceof HTMLTextAreaElement&&(s.value!==r.value&&(r.value=s.value),r.firstChild&&r.firstChild.nodeValue!==s.value&&(r.firstChild.nodeValue=s.value));let i=(t.getAttribute(Hn)??"").split(" ");for(let{name:a,value:c}of s.attributes)r.getAttribute(a)!==c&&!i.includes(a)&&r.setAttribute(a,c);for(let a=r.attributes.length-1;a>=0;a--){let{name:c}=r.attributes[a];!s.hasAttribute(c)&&!i.includes(c)&&r.removeAttribute(c)}o&&!r.hasAttribute("data-scope-children")&&r.setAttribute("data-scope-children",""),r.isEqualNode(s)||Yt(r,s),o&&r.dispatchEvent(new CustomEvent("datastar:scope-children",{bubbles:!1}))}return(n===8||n===3)&&e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue),e},Qt=(e,t)=>{for(let n of t)if(de.has(n.id)){let r=n;for(;r&&r!==e;){let s=I.get(r);s||(s=new Set,I.set(r,s)),s.add(n.id),r=r.parentElement}}};Te({name:"datastar-patch-signals",apply({error:e},{signals:t,onlyIfMissing:n}){if(t){let r=n?.trim()==="true";O(fe(t),{ifMissing:r})}else throw e("PatchSignalsExpectedSignals")}});M({name:"clipboard",apply:({error:e},t,n=!1)=>{if(!navigator.clipboard)throw e("ClipboardNotAvailable");navigator.clipboard.writeText(n?atob(t):t)}});M({name:"fit",apply:(e,t,n,r,s,o,i=!1,a=!1)=>{let c=Ue(n,r,t,i),l=Ge(s,o,c,i);return a&&(l=Math.round(l)),l}});g({name:"animate",requirement:{value:"must"},returnsValue:!0,apply({el:e,key:t,mods:n,rx:r}){let s=1e3,o=n.get("duration");o&&(s=j(o));let i=Dt(n.get("ease"),"linear"),a=ce[i];if(!a)throw new Error(`Invalid easing function: ${i}. Available easing functions: ${Object.keys(ce).join(", ")}`);let c=0,l=n.get("delay");l&&(c=j(l));let u=-1,m=()=>{u!==-1&&(cancelAnimationFrame(u),u=-1)},b=(f,d)=>{let p=en(d),h=e.getAttribute(f)||`0${p.suffix}`;if(h===d){e.setAttribute(f,d);return}let v=en(h);if(v.suffix!==p.suffix)throw new Error(`Cannot animate attribute "${f}" from "${h}" to "${d}" because they have different suffixes: "${v.suffix}" and "${p.suffix}".`);m();let S=0,T=0,W=()=>{let G=performance.now(),P=G>=T,L=0;if(P){L=p.value;let Q=n.has("loop"),D=n.has("pingpong");if(Q||D){if(S=G,T=G+s,D){let Z=v.value;v.value=p.value,p.value=Z}L=v.value,P=!1}}else{let Q=Ue(S,T,G),D=a(Q);L=Ge(v.value,p.value,D)}e.setAttribute(f,`${L}${p.suffix}`),P?m():u=requestAnimationFrame(W)};setTimeout(()=>{S=performance.now(),T=S+s,u=requestAnimationFrame(W)},c)};return t?E(()=>{let f=r();b(t,`${f}`)}):E(()=>{let f=r();for(let[d,p]of Object.entries(f))b(d,p)})}});var en=e=>{let t=e.match(/^(-?\d*\.?\d+)([a-z%]*)$/i);if(t)return{value:Number.parseFloat(t[1]),suffix:t[2]||""};throw new Error(`Invalid suffixed value: ${e}`)},{sqrt:Be,sin:Me,cos:tn,PI:ge}=Math,ce={linear:e=>e,quadratic:e=>e*(-(e*e)*e+4*e*e-6*e+4),cubic:e=>e*(4*e*e-9*e+6),elastic:e=>e*(33*e*e*e*e-106*e*e*e+126*e*e-67*e+15),inquad:e=>e*e,outquad:e=>e*(2-e),inoutquad:e=>e<.5?2*e*e:-1+(4-2*e)*e,incubic:e=>e*e*e,outcubic:e=>--e*e*e+1,inoutcubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,inquart:e=>e*e*e*e,outquart:e=>1- --e*e*e*e,inoutquart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,inquint:e=>e*e*e*e*e,outquint:e=>1+--e*e*e*e*e,inoutquint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,insine:e=>-tn(e*(ge/2))+1,outsine:e=>Me(e*(ge/2)),inoutsine:e=>-(tn(ge*e)-1)/2,inexpo:e=>2**(10*(e-1)),outexpo:e=>-(2**(-10*e))+1,inoutexpo:e=>(e/=.5,e<1?2**(10*(e-1))/2:(e--,(-(2**(-10*e))+2)/2)),incirc:e=>-Be(1-e*e)+1,outcirc:e=>Be(1-(e=e-1)*e),inoutcirc:e=>(e/=.5,e<1?-(Be(1-e*e)-1)/2:(e-=2,(Be(1-e*e)+1)/2)),inelastic:e=>{let t=2*ge/3;return e===0?0:e===1?1:-(2**(10*(e-1)))*Me((e-1.1)*t)},outelastic:e=>{let t=2*ge/3;return e===0?0:e===1?1:2**(-10*e)*Me((e-.1)*t)+1},inoutelastic:e=>{let t=2*ge/4.5;return e===0?0:e===1?1:e<.5?-(2**(20*e-10))*Me((20*e-11.125)*t)/2:2**(-20*e+10)*Me((20*e-11.125)*t)/2+1},inback:e=>e*e*((1.70158+1)*e-1.70158),outback:e=>(e=e-1)*e*((1.70158+1)*e+1.70158)+1,inoutback:e=>{let t=2.5949095;return e/=.5,e<1?e*e*((t+1)*e-t)/2:(e-=2,(e*e*((t+1)*e+t)+2)/2)},inbounce:e=>1-ce.outBounce(1-e),outbounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?(e-=1.5/2.75,7.5625*e*e+.75):e<2.5/2.75?(e-=2.25/2.75,7.5625*e*e+.9375):(e-=2.625/2.75,7.5625*e*e+.984375),inoutbounce:e=>e<.5?ce.inBounce(e*2)/2:ce.outBounce(e*2-1)/2+.5,ingolden:e=>e**1.834057,outgolden:e=>1-(1-e)**1.834057,inoutgolden:e=>e<.5?ce.inGolden(e*2)/2:ce.outGolden(e*2-1)/2+.5};g({name:"custom-validity",requirement:{key:"denied",value:"must"},returnsValue:!0,apply({el:e,rx:t,error:n}){if(!(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement))throw n("CustomValidityInvalidElement",{element:{tag:e.tagName}});return E(()=>{let r=t();if(typeof r!="string")throw n("CustomValidityInvalidExpression",{expression:{value:r}});e.setCustomValidity(r)})}});g({name:"on-raf",requirement:{key:"denied",value:"must"},apply({mods:e,rx:t}){let n=()=>{R(),t(),x()};n=q(n,e),n=B(n,e);let r,s=()=>{n(),r=requestAnimationFrame(s)};return r=requestAnimationFrame(s),()=>{r&&cancelAnimationFrame(r)}}});g({name:"on-resize",requirement:{key:"denied",value:"must"},apply({el:e,mods:t,rx:n}){let r=()=>{R(),n(),x()};r=q(r,t),r=B(r,t);let s=new ResizeObserver(()=>{r()});return s.observe(e),()=>{s&&(s.disconnect(),s=null)}}});g({name:"persist",returnsValue:!0,apply({key:e,mods:t,rx:n}){let r=e||"datastar",s=t.has("session")?sessionStorage:localStorage,o=s[r];if(o)try{let i=JSON.parse(o);O(i)}catch(i){console.error("Failed to parse persisted data:",i)}return E(()=>{let i=F(n?.()),a=JSON.stringify(i);s[r]=a})}});g({name:"query-string",requirement:{key:"denied"},returnsValue:!0,apply({mods:e,rx:t}){let n=e.has("history"),r=!1,s=()=>new URLSearchParams(window.location.search),o=()=>F(t?.()),i=()=>{let l=s(),u=o(),m=[],b=(d,p="")=>{let h=[];for(let v in d){let S=p?`${p}.${v}`:v,T=d[v];T&&typeof T=="object"&&!(T instanceof HTMLElement)?h.push(...b(T,S)):h.push(S)}return h},f=b(u);for(let d of f){let p=l.get(d);if(p!==null){let h=p;p==="true"?h=!0:p==="false"?h=!1:!Number.isNaN(+p)&&p!==""&&(h=+p),m.push([d,h])}}Fe(m)||A(m)};i();let a=()=>{r=!0,i(),r=!1};n&&window.addEventListener("popstate",a);let c=E(()=>{if(r)return;let l=new URLSearchParams,u=s().toString(),m=(f,d)=>{for(let p in f){let h=f[p],v=d.length?`${d}.${p}`:p;h instanceof HTMLElement||(typeof h=="object"?m(h,v):(!e.has("filter")||h)&&l.set(v,`${h}`))}};m(o(),"");let b=l.toString();if(b!==u){let f=b?`?${b}`:window.location.pathname;n?window.history.pushState({},"",f):window.history.replaceState({},"",f)}});return()=>{n&&window.removeEventListener("popstate",a),c()}}});g({name:"replace-url",requirement:{key:"denied",value:"must"},returnsValue:!0,apply({rx:e}){return E(()=>{let t=e(),n=window.location.href,r=new URL(t,n).toString();window.history.replaceState({},"",r)})}});var gt="smooth",nn="instant",rn="auto",Vn="hstart",$n="hcenter",_n="hend",qn="hnearest",In="vstart",Dn="vcenter",jn="vend",Gn="vnearest",We="center",sn="start",on="end",an="nearest",Un="focus";g({name:"scroll-into-view",requirement:"denied",apply({el:e,mods:t}){let n={behavior:gt,block:We,inline:We};t.has(gt)&&(n.behavior=gt),t.has(nn)&&(n.behavior=nn),t.has(rn)&&(n.behavior=rn),t.has(Vn)&&(n.inline=sn),t.has($n)&&(n.inline=We),t.has(_n)&&(n.inline=on),t.has(qn)&&(n.inline=an),t.has(In)&&(n.block=sn),t.has(Dn)&&(n.block=We),t.has(jn)&&(n.block=on),t.has(Gn)&&(n.block=an),e.tabIndex||e.setAttribute("tabindex","0"),e.scrollIntoView(n),t.has(Un)&&e.focus()}});g({name:"view-transition",requirement:{key:"denied",value:"must"},returnsValue:!0,apply({el:e,rx:t}){if(!we){console.warn("Browser does not support view transitions");return}return E(()=>{let n=t();n&&(e.style.viewTransitionName=n)})}});export{M as action,Ot as actions,g as attribute,R as beginBatch,qe as computed,E as effect,x as endBatch,F as filtered,ue as getPath,O as mergePatch,A as mergePaths,ie as root,be as signal,$ as startPeeking,_ as stopPeeking,Te as watcher};